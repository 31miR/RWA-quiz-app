#When you login with an admin and get a token back
#Place it in these variables (depending on if it's regular admin
#or super admin)
#Undo changes at the end
#DO NOT PUSH ANY CHANGES TO GIT JUST BECAUSE YOU'VE PASTED A TOKEN
#THAT IS UNECCESARY
@cookie = 
@super_cookie = 

### LOGIN ADMIN
POST http://localhost:8080/kviz/api/admin/login
Content-Type: application/json

{
  "username": "suad",
  "password": "superadmin"
}

### LOGOUT ADMIN
POST http://localhost:8080/kviz/api/admin/logout
Cookie: {{cookie}}

### Get data about yourself
GET http://localhost:8080/kviz/api/whoami
Cookie: {{cookie}}

### CREATE NEW ADMIN
POST http://localhost:8080/kviz/api/superadmin/admin
Cookie: {{super_cookie}}
Content-Type: application/json

{
  "fullName": "Bro Bro",
  "username": "bro",
  "password": "newpass"
}

### Delete the admin
DELETE http://localhost:8080/kviz/api/superadmin/admin?id=13
Cookie: {{super_cookie}}

### Get a list of admins
GET http://localhost:8080/kviz/api/superadmin/admin?offset=0&limit=10
Cookie: {{super_cookie}}

### Get an admin with id
GET http://localhost:8080/kviz/api/superadmin/admin?id=13
Cookie: {{super_cookie}}

### Update existing admin
PUT http://localhost:8080/kviz/api/superadmin/admin?id=13
Cookie: {{super_cookie}}
Content-Type: application/json

{
  "id": 13,
  "username": "brombrom",
  "password": "updatedPassword"
}

### Create a new quiz (POST)
POST http://localhost:8080/kviz/api/admin/quiz
Cookie: {{cookie}}
Content-Type: multipart/form-data; boundary=WebAppBoundary

--WebAppBoundary
Content-Disposition: form-data; name="quiz"
Content-Type: application/json

{
  "id": null,
  "title": "History Quiz",
  "description": "A quiz about world history",
  "isImageSent": true,
  "imageURI": null,
  "adminId": 1,
  "questions": [
    {
      "id": null,
      "questionText": "Who was the first president of the USA?",
      "timeInterval": 30,
      "pointAmmount": 100,
      "questionPosition": 1,
      "quizId": null,
      "answers": [
        {"id": null, "text": "George Washington", "isRight": true, "questionId": null},
        {"id": null, "text": "Thomas Jefferson", "isRight": false, "questionId": null}
      ]
    }
  ]
}
--WebAppBoundary
Content-Disposition: form-data; name="image"; filename="history.jpg"
Content-Type: image/jpeg

< ./images/history.jpg
--WebAppBoundary--

### Update existing quiz without image change (PUT)
PUT http://localhost:8080/kviz/api/admin/quiz
Cookie: {{cookie}}
Content-Type: multipart/form-data; boundary=WebAppBoundary

--WebAppBoundary
Content-Disposition: form-data; name="quiz"
Content-Type: application/json

{
  "id": 5,
  "title": "Updated History Quiz",
  "description": "Updated description",
  "isImageSent": false,
  "imageURI": null,
  "adminId": 1,
  "questions": []
}
--WebAppBoundary--

### Update quiz with new image (PUT)
PUT http://localhost:8080/kviz/api/admin/quiz
Cookie: {{cookie}}
Content-Type: multipart/form-data; boundary=WebAppBoundary

--WebAppBoundary
Content-Disposition: form-data; name="quiz"
Content-Type: application/json

{
  "id": 5,
  "title": "Updated History Quiz with Image",
  "description": "Updated description + image",
  "isImageSent": true,
  "imageURI": null,
  "adminId": 1,
  "questions": []
}
--WebAppBoundary
Content-Disposition: form-data; name="image"; filename="new-history.jpg"
Content-Type: image/jpeg

< ./images/new-history.jpg
--WebAppBoundary--

### Get quizzes with pagination
GET http://localhost:8080/kviz/api/admin/quiz?offset=0&limit=10
Cookie: {{cookie}}

### Get quiz by ID
GET http://localhost:8080/kviz/api/admin/quiz?id=5
Cookie: {{cookie}}

### Delete quiz
DELETE http://localhost:8080/kviz/api/admin/quiz?id=5
Cookie: {{cookie}}