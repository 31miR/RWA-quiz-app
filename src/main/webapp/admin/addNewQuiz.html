<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz Builder</title>
  <link rel="stylesheet" href="../styles/addNewQuiz.css" />
</head>
<body>
  <div class="page-bg"></div>

  <main class="container">
    <form id="quizForm" action="#" method="post">
      <header class="form-header">
        <h1 id="page-title">Create Quiz</h1>
        <div class="grid-2">
          <div class="field">
            <label for="quizTitle">Quiz title</label>
            <input id="quizTitle" name="title" type="text" placeholder="Enter quiz title" required />
          </div>
          <div class="field">
            <label for="quizDescription">Description</label>
            <textarea id="quizDescription" name="description" rows="3" placeholder="Describe your quiz"></textarea>
          </div>
        </div>

        <div class="upload-row">
          <div class="thumb" id="imagePreview" aria-label="Image preview" role="img"></div>

          <div class="upload-controls">
            <input id="quizImage" name="image" type="file" accept="image/*" hidden />
            <button type="button" id="triggerUpload" class="btn outline">Upload cover image</button>
            <div class="file-name" id="fileName">No file selected</div>
          </div>
        </div>
      </header>

      <section class="questions">
        <div class="questions-header">
          <h2>Questions</h2>
          <button type="button" id="addQuestion" class="btn">Create Question</button>
        </div>
        <div id="questionsList" class="questions-list" aria-live="polite"></div>
        <p class="hint">Drag questions to reorder. Click the question body to edit. Use the trash to delete.</p>
      </section>

      <footer class="form-footer">
        <button type="submit" class="btn primary">Submit</button>
        <button type="button" id="cancelBtn" class="as-text">Cancel</button>
      </footer>
    </form>
  </main>

  <!-- Modal -->
  <div id="modalBackdrop" class="modal-backdrop" hidden></div>
  <dialog id="questionModal" class="modal">
    <form method="dialog" id="modalForm">
      <header class="modal-header">
        <h3>Edit Question</h3>
        <button type="button" class="icon-btn" id="closeModal" aria-label="Close">âœ•</button>
      </header>

      <div class="modal-body">
        <div class="field">
          <label for="qText">Question text</label>
          <textarea id="qText" rows="3" required placeholder="Type your question..."></textarea>
        </div>
        <div class="grid-2">
          <div class="field">
            <label for="qPoints">Points</label>
            <input id="qPoints" type="number" min="0" step="1" value="0" required />
          </div>
          <div class="field">
            <label for="qSeconds">Duration (seconds)</label>
            <input id="qSeconds" type="number" min="1" step="1" value="30" required />
          </div>
        </div>

        <fieldset class="answers">
          <legend>Answers (mark all that are correct)</legend>
          <div class="answer-row"><input type="checkbox" class="aCorrect"/><input type="text" class="aText" placeholder="Answer 1" required></div>
          <div class="answer-row"><input type="checkbox" class="aCorrect"/><input type="text" class="aText" placeholder="Answer 2" required></div>
          <div class="answer-row"><input type="checkbox" class="aCorrect"/><input type="text" class="aText" placeholder="Answer 3" required></div>
          <div class="answer-row"><input type="checkbox" class="aCorrect"/><input type="text" class="aText" placeholder="Answer 4" required></div>
        </fieldset>
      </div>

      <footer class="modal-footer">
        <button type="submit" class="btn primary">Save</button>
      </footer>
    </form>
  </dialog>

  <script type="module" src="../scripts/addNewQuiz.js" defer></script>
</body>
</html>